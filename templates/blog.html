{% extends 'base.html' %}
{% load custom_filters %}
{% block content %}

    <!-- Display title/summary -->
    <div class="container">
        <h1>Blogs</h1>
        <p>This is a collection of my blog posts, covering topics I find interesting...</p>
    </div>

    <!-- Display topics -->
    <div class="container">
        <h2>Topics</h2>
        <p>Click on a topic to view all posts related to that topic.</p>
        {% for topic in posts|unique_topics %}
            <a href="{% url 'blog_by_topic' topic %}">{{ topic }}</a>
        {% endfor %}
    </div>

    <!-- Display posts -->
    <div class="container">
        <h2>All</h2>
            {% for post in posts %}
                <div class="card" style="margin-bottom: 10px">
                    <div class="card-body">
                        <h5>{{ post.title }}</h5>
                        <h6>[ {{ post.topic }} ]</h6>
                        <p>Posted on: {{ post.posted_date.date }}</p>
                        <p class="card-text">{{ post.preview }}</p>
                        <p><a href="{% url 'blog_post' post.topic post.title %}">Read More</a></p>
                    </div>
                </div>
            {% endfor %}
    </div>

{% endblock %}